:root{--bg-primary: #0f172a;--bg-secondary: #1e293b;--bg-card: rgba(255, 255, 255, .05);--bg-card-hover: rgba(255, 255, 255, .08);--border-color: rgba(255, 255, 255, .1);--text-primary: #f8fafc;--text-secondary: #e2e8f0;--text-muted: #94a3b8;--text-dim: #64748b}@media (prefers-color-scheme: light){:root{--bg-primary: #f8fafc;--bg-secondary: #f1f5f9;--bg-card: rgba(0, 0, 0, .03);--bg-card-hover: rgba(0, 0, 0, .06);--border-color: rgba(0, 0, 0, .1);--text-primary: #0f172a;--text-secondary: #1e293b;--text-muted: #64748b;--text-dim: #94a3b8}}*{box-sizing:border-box;margin:0;padding:0}body{font-family:var(--ha-card-font-family, -apple-system, BlinkMacSystemFont, "Segoe UI", Roboto, sans-serif);background:var(--ha-card-background, var(--bg-primary));color:var(--primary-text-color, var(--text-secondary));min-height:100vh;padding:20px}.container{max-width:1400px;margin:0 auto}h1{text-align:center;margin-bottom:24px;font-size:1.75rem;color:var(--primary-text-color, var(--text-primary))}h2{font-size:1rem;color:var(--secondary-text-color, var(--text-muted));margin-bottom:16px;text-transform:uppercase;letter-spacing:.05em}.status-bar{display:flex;justify-content:space-between;align-items:center;padding:12px 16px;background:var(--ha-card-background, var(--bg-card));border:1px solid var(--divider-color, var(--border-color));border-radius:8px;margin-bottom:24px;font-size:.875rem;flex-wrap:wrap;gap:12px}.status-dot{display:inline-block;width:8px;height:8px;border-radius:50%;margin-right:8px}.status-dot.ok{background:#22c55e}.status-dot.error{background:#ef4444}.status-dot.loading{background:#fbbf24;animation:pulse 1s infinite}@keyframes pulse{0%,to{opacity:1}50%{opacity:.5}}.error-card{background:#ef44441a;border:1px solid rgba(239,68,68,.3);border-radius:12px;padding:24px;margin-bottom:24px;text-align:center}.error-card h2{color:#f87171;margin-bottom:12px}.grid{display:grid;grid-template-columns:repeat(auto-fit,minmax(160px,1fr));gap:12px;margin-bottom:24px}.card{background:var(--ha-card-background, var(--bg-card));border:1px solid var(--divider-color, var(--border-color));border-radius:12px;padding:16px}.card h3{font-size:.7rem;color:var(--secondary-text-color, var(--text-muted));margin-bottom:4px;text-transform:uppercase;letter-spacing:.05em}.card .value{font-size:1.4rem;font-weight:700;color:var(--primary-text-color, var(--text-primary))}.card .unit{font-size:.8rem;color:var(--secondary-text-color, var(--text-dim));margin-left:4px}.card.solar{border-color:#facc1566;background:#facc151a}.card.solar .value{color:#ca8a04}.card.battery{border-color:#22c55e66;background:#22c55e1a}.card.battery .value{color:#16a34a}.card.grid-import{border-color:#ef444466;background:#ef44441a}.card.grid-import .value{color:#dc2626}.card.grid-export{border-color:#3b82f666;background:#3b82f61a}.card.grid-export .value{color:#2563eb}.card.load{border-color:#a855f766;background:#a855f71a}.card.load .value{color:#9333ea}.section{background:var(--ha-card-background, var(--bg-card));border:1px solid var(--divider-color, var(--border-color));border-radius:16px;padding:20px;margin-bottom:20px}.section-header{margin-bottom:16px;padding-bottom:12px;border-bottom:1px solid var(--divider-color, var(--border-color));display:flex;justify-content:space-between;align-items:center}.section-title{font-size:1.125rem;font-weight:600;color:var(--primary-text-color, var(--text-primary))}.section-meta{color:var(--secondary-text-color, var(--text-dim));font-size:.75rem}.loading{text-align:center;padding:60px;color:var(--secondary-text-color, var(--text-dim))}.tabs{display:flex;gap:8px;margin-bottom:20px}.tab{padding:8px 16px;border-radius:8px;border:1px solid var(--divider-color, var(--border-color));background:transparent;color:var(--secondary-text-color, var(--text-muted));cursor:pointer;font-size:.875rem}.tab:hover{background:var(--bg-card-hover)}.tab.active{background:var(--primary-color, rgba(59, 130, 246, .2));border-color:var(--primary-color, rgba(59, 130, 246, .5));color:var(--primary-color, #3b82f6)}.battery-bar{height:24px;background:var(--divider-color, rgba(0, 0, 0, .2));border-radius:12px;overflow:hidden;margin-top:8px}.battery-fill{height:100%;background:linear-gradient(90deg,#22c55e,#4ade80);border-radius:12px;transition:width .5s}.flow-container{position:relative;width:100%;max-width:500px;margin:0 auto;aspect-ratio:1}.flow-svg{width:100%;height:100%}.flow-node{fill:var(--ha-card-background, var(--bg-card));stroke:var(--divider-color, var(--border-color));stroke-width:2}.flow-node-solar{stroke:#facc1599}.flow-node-home{stroke:#a855f799}.flow-node-battery{stroke:#22c55e99}.flow-node-grid{stroke:#3b82f699}.flow-icon{font-size:28px;text-anchor:middle;dominant-baseline:middle;fill:var(--primary-text-color, var(--text-primary))}.flow-label{font-size:11px;text-anchor:middle;fill:var(--secondary-text-color, var(--text-muted))}.flow-value{font-size:14px;font-weight:700;text-anchor:middle;fill:var(--primary-text-color, var(--text-primary))}.flow-line{fill:none;stroke:var(--divider-color, rgba(128, 128, 128, .3));stroke-width:3;stroke-linecap:round}.flow-line-active{stroke-width:4}.flow-line-solar{stroke:#facc15cc}.flow-line-battery{stroke:#22c55ecc}.flow-line-grid-import{stroke:#ef4444cc}.flow-line-grid-export{stroke:#3b82f6cc}.flow-dot{fill:#fff;filter:drop-shadow(0 0 3px currentColor)}.flow-dot-solar{fill:#facc15}.flow-dot-battery{fill:#22c55e}.flow-dot-grid-import{fill:#ef4444}.flow-dot-grid-export{fill:#3b82f6}@keyframes flowMove{0%{offset-distance:0%}to{offset-distance:100%}}.flow-animated{animation:flowMove 1.5s linear infinite}
